---
mode: agent
---

# Git WorkTreeのUtilityの実装

## 概要

各WorkTreeのディレクトリに対してターミナルコマンドを実行するためのユーティリティを実装します。このユーティリティは、Git WorkTreeの各WorkTreeに対して指定されたコマンドを実行し、その結果を表示します。


## 要件

- 対象のWorkTreeを選択するためのインターフェースを提供する
  - 全てのWorkTreeを対象にする場合のために全選択できるようにもする
- 実行結果を表示する
- WorkTreeの一覧を表示する
- 実行するコマンドを指定できるようにする
- 実行するコマンドは、ターミナルで実行可能なコマンドとする
  - シェルスクリプトの実行も可能とする
- 実行するコマンドは、WorkTreeのルートディレクトリで実行されることを前提とする
- dry-runオプションを提供し、実際にコマンドを実行する前に確認できるようにする
- 実行結果は、標準出力に表示する
- エラーハンドリングを適切に行う

## 実装のポイント

- 内部実装はシェルスクリプトにする
- fishシェルの関数で実装したシェルスクリプトを呼ぶ形式で実装する

## 例

```shell
# 実行例
gwte --command "echo Hello World" --dry-run
```

```shell
# 実行例
gwte --command "./path.to/script.sh" --dry-run
```

